<div class="home-container">
  <mat-card class="welcome-card">
    <mat-card-header>
      <mat-card-title class="animated-title">ðŸ‘‹ Welcome, {{ user?.username || 'User' }}!</mat-card-title>
    </mat-card-header>
  </mat-card>
  <div class="title-divider"></div>
  <div class="slider-info">
    <mat-icon matTooltip=" your Estimator items" matTooltipPosition="above">Recently visited</mat-icon>
  </div>

  <div class="slider-container">
    <button class="scroll-button left" (click)="scroll(-1)">
      <mat-icon><</mat-icon>
    </button>
    <div class="slider-wrapper">
      <div class="slider-content" #sliderContent>
        <ng-container *ngFor="let item of recentlyVisited">
          <mat-card class="content-card">
            <mat-card-header>
              <mat-card-title>{{ item.name }}</mat-card-title>
              <mat-card-subtitle>{{ item.type }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p class="card-text">Details about {{ item.name }}.</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button (click)="navigateTo(item)">VIEW</button>
            </mat-card-actions>
          </mat-card>
        </ng-container>
        <mat-card class="add-card" (click)="addRecentlyVisited()">
          <mat-card-header>
            <mat-card-title>Add New</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-icon>+</mat-icon>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    <button class="scroll-button right" (click)="scroll(1)">
      <mat-icon>></mat-icon>
    </button>
  </div>
  <div class="title-divider"></div>
  <!-- Developer Visibility Section -->
  <mat-card class="developer-card">
    <div class="card-content">
      <div class="left-section">
        <div class="profile-info">
          <mat-icon>person</mat-icon>
          <h2>{{ developer?.name || 'John Doe' }}</h2>
          <p class="status">{{ developer?.status || 'Active' }}</p>
          <p class="location">
            <mat-icon>location_on</mat-icon> {{ developer?.region || 'USA' }}
            <img [src]="developer?.flag || '/assets/default-flag.png'" alt="flag" class="region-flag">
          </p>
          <p class="work-period">Works from {{ developer?.workStart || 'Start Date' }} to {{ developer?.workEnd || 'Present' }}</p>
          <p class="role">{{ developer?.role || 'Senior Programmer' }}</p>
          <p class="salary"><mat-icon>attach_money</mat-icon> {{ developer?.salary || '$120,000/year' }}</p>
        </div>
      </div>

      <div class="vertical-divider"></div>

      <div class="right-section">
        <h3>Professional Details:</h3>
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <li class="mat-tree-node">
              <button mat-icon-button disabled></button>
              {{ node.item }}
            </li>
          </mat-tree-node>

          <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodeToggle>
            <li>
              <div class="mat-tree-node">
                <button mat-icon-button matTreeNodeToggle>
                  <mat-icon>{{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}</mat-icon>
                </button>
                {{ node.item }}
              </div>
            </li>
          </mat-tree-node>
        </mat-tree>
      </div>
    </div>
  </mat-card>

</div>
